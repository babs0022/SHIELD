{
  "_format": "hh-sol-artifact-1",
  "contractName": "Shield",
  "sourceName": "contracts/Shield.sol",
  "abi": [
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "policyId",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "sender",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "recipient",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "expiry",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "maxAttempts",
          "type": "uint256"
        }
      ],
      "name": "PolicyCreated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "policyId",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "bool",
          "name": "success",
          "type": "bool"
        }
      ],
      "name": "VerificationAttempt",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "policyId",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "recipient",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "expiry",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "maxAttempts",
          "type": "uint256"
        }
      ],
      "name": "createPolicy",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "policyId",
          "type": "bytes32"
        }
      ],
      "name": "isPolicyValid",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "policyId",
          "type": "bytes32"
        },
        {
          "internalType": "bool",
          "name": "success",
          "type": "bool"
        }
      ],
      "name": "logAttempt",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "policies",
      "outputs": [
        {
          "internalType": "address",
          "name": "sender",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "recipient",
          "type": "address"
        },
        {
          "internalType": "uint64",
          "name": "expiry",
          "type": "uint64"
        },
        {
          "internalType": "uint32",
          "name": "maxAttempts",
          "type": "uint32"
        },
        {
          "internalType": "uint32",
          "name": "attempts",
          "type": "uint32"
        },
        {
          "internalType": "bool",
          "name": "valid",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50610d67806100206000396000f3fe608060405234801561001057600080fd5b506004361061004c5760003560e01c80633ee9af6814610051578063b856cd661461006d578063c2cbe3ac14610089578063ddbfd8ef146100b9575b600080fd5b61006b6004803603810190610066919061082d565b6100ee565b005b61008760048036038101906100829190610901565b61039b565b005b6100a3600480360381019061009e9190610968565b610660565b6040516100b091906109a4565b60405180910390f35b6100d360048036038101906100ce9190610968565b6106fd565b6040516100e596959493929190610a10565b60405180910390f35b60008060008481526020019081526020016000209050600073ffffffffffffffffffffffffffffffffffffffff168160000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1603610197576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161018e90610ace565b60405180910390fd5b8060020160049054906101000a900460ff166101e8576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016101df90610b3a565b60405180910390fd5b8060010160149054906101000a900467ffffffffffffffff1667ffffffffffffffff16421061024c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161024390610ba6565b60405180910390fd5b80600101601c9054906101000a900463ffffffff1663ffffffff168160020160009054906101000a900463ffffffff1663ffffffff16106102c2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016102b990610c12565b60405180910390fd5b80600201600081819054906101000a900463ffffffff16809291906102e690610c61565b91906101000a81548163ffffffff021916908363ffffffff1602179055505080600101601c9054906101000a900463ffffffff1663ffffffff168160020160009054906101000a900463ffffffff1663ffffffff161061035e5760008160020160046101000a81548160ff0219169083151502179055505b827f2e4756fcacb657b5312626a687937a8c8ef03c008aea6a39d8351b67037813138360405161038e91906109a4565b60405180910390a2505050565b600073ffffffffffffffffffffffffffffffffffffffff1660008086815260200190815260200160002060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff161461043f576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161043690610cd9565b60405180910390fd5b6040518060c001604052803373ffffffffffffffffffffffffffffffffffffffff1681526020018473ffffffffffffffffffffffffffffffffffffffff1681526020018367ffffffffffffffff1681526020018263ffffffff168152602001600063ffffffff1681526020016001151581525060008086815260200190815260200160002060008201518160000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060208201518160010160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060408201518160010160146101000a81548167ffffffffffffffff021916908367ffffffffffffffff160217905550606082015181600101601c6101000a81548163ffffffff021916908363ffffffff16021790555060808201518160020160006101000a81548163ffffffff021916908363ffffffff16021790555060a08201518160020160046101000a81548160ff0219169083151502179055509050508273ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16857f0acaae428e14c48da7ced6b1bc1c17b87a269b763624b5b052bf0df4100961808585604051610652929190610d08565b60405180910390a450505050565b60008060008084815260200190815260200160002090508060020160049054906101000a900460ff1680156106b657508060010160149054906101000a900467ffffffffffffffff1667ffffffffffffffff1642105b80156106f5575080600101601c9054906101000a900463ffffffff1663ffffffff168160020160009054906101000a900463ffffffff1663ffffffff16105b915050919050565b60006020528060005260406000206000915090508060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16908060010160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16908060010160149054906101000a900467ffffffffffffffff169080600101601c9054906101000a900463ffffffff16908060020160009054906101000a900463ffffffff16908060020160049054906101000a900460ff16905086565b600080fd5b6000819050919050565b6107d2816107bf565b81146107dd57600080fd5b50565b6000813590506107ef816107c9565b92915050565b60008115159050919050565b61080a816107f5565b811461081557600080fd5b50565b60008135905061082781610801565b92915050565b60008060408385031215610844576108436107ba565b5b6000610852858286016107e0565b925050602061086385828601610818565b9150509250929050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006108988261086d565b9050919050565b6108a88161088d565b81146108b357600080fd5b50565b6000813590506108c58161089f565b92915050565b6000819050919050565b6108de816108cb565b81146108e957600080fd5b50565b6000813590506108fb816108d5565b92915050565b6000806000806080858703121561091b5761091a6107ba565b5b6000610929878288016107e0565b945050602061093a878288016108b6565b935050604061094b878288016108ec565b925050606061095c878288016108ec565b91505092959194509250565b60006020828403121561097e5761097d6107ba565b5b600061098c848285016107e0565b91505092915050565b61099e816107f5565b82525050565b60006020820190506109b96000830184610995565b92915050565b6109c88161088d565b82525050565b600067ffffffffffffffff82169050919050565b6109eb816109ce565b82525050565b600063ffffffff82169050919050565b610a0a816109f1565b82525050565b600060c082019050610a2560008301896109bf565b610a3260208301886109bf565b610a3f60408301876109e2565b610a4c6060830186610a01565b610a596080830185610a01565b610a6660a0830184610995565b979650505050505050565b600082825260208201905092915050565b7f506f6c69637920646f6573206e6f742065786973740000000000000000000000600082015250565b6000610ab8601583610a71565b9150610ac382610a82565b602082019050919050565b60006020820190508181036000830152610ae781610aab565b9050919050565b7f506f6c696379206973206e6f742076616c696400000000000000000000000000600082015250565b6000610b24601383610a71565b9150610b2f82610aee565b602082019050919050565b60006020820190508181036000830152610b5381610b17565b9050919050565b7f506f6c6963792068617320657870697265640000000000000000000000000000600082015250565b6000610b90601283610a71565b9150610b9b82610b5a565b602082019050919050565b60006020820190508181036000830152610bbf81610b83565b9050919050565b7f4d617820617474656d7074732072656163686564000000000000000000000000600082015250565b6000610bfc601483610a71565b9150610c0782610bc6565b602082019050919050565b60006020820190508181036000830152610c2b81610bef565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000610c6c826109f1565b915063ffffffff8203610c8257610c81610c32565b5b600182019050919050565b7f506f6c69637920616c7265616479206578697374730000000000000000000000600082015250565b6000610cc3601583610a71565b9150610cce82610c8d565b602082019050919050565b60006020820190508181036000830152610cf281610cb6565b9050919050565b610d02816108cb565b82525050565b6000604082019050610d1d6000830185610cf9565b610d2a6020830184610cf9565b939250505056fea2646970667358221220c9e5afb462b4edc4c95a1370f7ea1a2f6f38c3280144be6b0b2c0e169091653964736f6c63430008180033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b506004361061004c5760003560e01c80633ee9af6814610051578063b856cd661461006d578063c2cbe3ac14610089578063ddbfd8ef146100b9575b600080fd5b61006b6004803603810190610066919061082d565b6100ee565b005b61008760048036038101906100829190610901565b61039b565b005b6100a3600480360381019061009e9190610968565b610660565b6040516100b091906109a4565b60405180910390f35b6100d360048036038101906100ce9190610968565b6106fd565b6040516100e596959493929190610a10565b60405180910390f35b60008060008481526020019081526020016000209050600073ffffffffffffffffffffffffffffffffffffffff168160000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1603610197576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161018e90610ace565b60405180910390fd5b8060020160049054906101000a900460ff166101e8576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016101df90610b3a565b60405180910390fd5b8060010160149054906101000a900467ffffffffffffffff1667ffffffffffffffff16421061024c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161024390610ba6565b60405180910390fd5b80600101601c9054906101000a900463ffffffff1663ffffffff168160020160009054906101000a900463ffffffff1663ffffffff16106102c2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016102b990610c12565b60405180910390fd5b80600201600081819054906101000a900463ffffffff16809291906102e690610c61565b91906101000a81548163ffffffff021916908363ffffffff1602179055505080600101601c9054906101000a900463ffffffff1663ffffffff168160020160009054906101000a900463ffffffff1663ffffffff161061035e5760008160020160046101000a81548160ff0219169083151502179055505b827f2e4756fcacb657b5312626a687937a8c8ef03c008aea6a39d8351b67037813138360405161038e91906109a4565b60405180910390a2505050565b600073ffffffffffffffffffffffffffffffffffffffff1660008086815260200190815260200160002060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff161461043f576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161043690610cd9565b60405180910390fd5b6040518060c001604052803373ffffffffffffffffffffffffffffffffffffffff1681526020018473ffffffffffffffffffffffffffffffffffffffff1681526020018367ffffffffffffffff1681526020018263ffffffff168152602001600063ffffffff1681526020016001151581525060008086815260200190815260200160002060008201518160000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060208201518160010160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060408201518160010160146101000a81548167ffffffffffffffff021916908367ffffffffffffffff160217905550606082015181600101601c6101000a81548163ffffffff021916908363ffffffff16021790555060808201518160020160006101000a81548163ffffffff021916908363ffffffff16021790555060a08201518160020160046101000a81548160ff0219169083151502179055509050508273ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16857f0acaae428e14c48da7ced6b1bc1c17b87a269b763624b5b052bf0df4100961808585604051610652929190610d08565b60405180910390a450505050565b60008060008084815260200190815260200160002090508060020160049054906101000a900460ff1680156106b657508060010160149054906101000a900467ffffffffffffffff1667ffffffffffffffff1642105b80156106f5575080600101601c9054906101000a900463ffffffff1663ffffffff168160020160009054906101000a900463ffffffff1663ffffffff16105b915050919050565b60006020528060005260406000206000915090508060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16908060010160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16908060010160149054906101000a900467ffffffffffffffff169080600101601c9054906101000a900463ffffffff16908060020160009054906101000a900463ffffffff16908060020160049054906101000a900460ff16905086565b600080fd5b6000819050919050565b6107d2816107bf565b81146107dd57600080fd5b50565b6000813590506107ef816107c9565b92915050565b60008115159050919050565b61080a816107f5565b811461081557600080fd5b50565b60008135905061082781610801565b92915050565b60008060408385031215610844576108436107ba565b5b6000610852858286016107e0565b925050602061086385828601610818565b9150509250929050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006108988261086d565b9050919050565b6108a88161088d565b81146108b357600080fd5b50565b6000813590506108c58161089f565b92915050565b6000819050919050565b6108de816108cb565b81146108e957600080fd5b50565b6000813590506108fb816108d5565b92915050565b6000806000806080858703121561091b5761091a6107ba565b5b6000610929878288016107e0565b945050602061093a878288016108b6565b935050604061094b878288016108ec565b925050606061095c878288016108ec565b91505092959194509250565b60006020828403121561097e5761097d6107ba565b5b600061098c848285016107e0565b91505092915050565b61099e816107f5565b82525050565b60006020820190506109b96000830184610995565b92915050565b6109c88161088d565b82525050565b600067ffffffffffffffff82169050919050565b6109eb816109ce565b82525050565b600063ffffffff82169050919050565b610a0a816109f1565b82525050565b600060c082019050610a2560008301896109bf565b610a3260208301886109bf565b610a3f60408301876109e2565b610a4c6060830186610a01565b610a596080830185610a01565b610a6660a0830184610995565b979650505050505050565b600082825260208201905092915050565b7f506f6c69637920646f6573206e6f742065786973740000000000000000000000600082015250565b6000610ab8601583610a71565b9150610ac382610a82565b602082019050919050565b60006020820190508181036000830152610ae781610aab565b9050919050565b7f506f6c696379206973206e6f742076616c696400000000000000000000000000600082015250565b6000610b24601383610a71565b9150610b2f82610aee565b602082019050919050565b60006020820190508181036000830152610b5381610b17565b9050919050565b7f506f6c6963792068617320657870697265640000000000000000000000000000600082015250565b6000610b90601283610a71565b9150610b9b82610b5a565b602082019050919050565b60006020820190508181036000830152610bbf81610b83565b9050919050565b7f4d617820617474656d7074732072656163686564000000000000000000000000600082015250565b6000610bfc601483610a71565b9150610c0782610bc6565b602082019050919050565b60006020820190508181036000830152610c2b81610bef565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000610c6c826109f1565b915063ffffffff8203610c8257610c81610c32565b5b600182019050919050565b7f506f6c69637920616c7265616479206578697374730000000000000000000000600082015250565b6000610cc3601583610a71565b9150610cce82610c8d565b602082019050919050565b60006020820190508181036000830152610cf281610cb6565b9050919050565b610d02816108cb565b82525050565b6000604082019050610d1d6000830185610cf9565b610d2a6020830184610cf9565b939250505056fea2646970667358221220c9e5afb462b4edc4c95a1370f7ea1a2f6f38c3280144be6b0b2c0e169091653964736f6c63430008180033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
